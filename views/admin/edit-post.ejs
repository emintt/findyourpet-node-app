<%- include('../includes/head.ejs')%>
</head>

<body>
    <div class="container">
        <%- include('../includes/navigation.ejs') %>
        <div class="page-container">
            <div class="login-form-container post-form-container"> 
                <h1>Jätä ilmoitus</h1>
                <form method="POST" action="/admin/<% if (editing) { %>edit-post<% } else { %>add-post<% } %>">
                    <div class="post-module">
                        <label for="postTypeId">Ilmoitus tyyppi*</label>
                        <div class="text-field dropdown base">
                            <select name="postTypeId" value="<% if (editing) { %><%=post.postType%><% } %>">
                                <!-- <option value=""> Valitse ilmoitustyyppi</option> -->
                                <option  value="1">Löydetty</option>
                                <option value="2">Kadonnut</option>
                            </select>
                        </div>
                        <label for="cityId">Kunta*</label>
                        <div class="text-field dropdown base">
                            <select name="cityId">
                                <!-- <option value="valitse kunta">Valitse kunta</option> -->
                                <option value="1">Akaa</option>
                                <option  value="2">Alajärvi</option>
                                <option  value="3">Alavus</option>
                                <option value="4">Espoo</option>
                                <option  value="5">Forssa</option>
                                <option  value="6">Haapajärvi</option>
                                <option  value="7">Haapavesi</option>
                                <option  value="8">Hamina</option>
                                <option  value="9">Hanko</option>
                            </select>
                        </div>
                        
                        <label for="postcode">Postinumero*</label>
                        <div class="text-field base" ><input id="postcode" type="text" name="postcode" value="<% if (editing) { %><%=post.postcode%><% } %>"></div>
                        <label for="petDate">Kadonneet tai löytyy päivämäärä*</label>
                        <div class="text-field base" ><input id="date" type="date" name="petDate" value="<% if (editing) { %><%=post.petDate%><% } %>"></div>
                        <label for="petTypeId">Lemmikin tyyppi</label>
                        <div class="text-field dropdown base">
                            <select name="petTypeId">
                            <% let typeOptions = ["Valitse tyyppi", "Koira", "Kissa", "Muu"];
                            for (let i = 0; i < typeOptions.length; i++) {
                                if (editing) {
                                    let selected = (post.petTypeId === i) ? "selected" : ""; %>
                                    <option value="<%=i%>" <%=selected%>><%=typeOptions[i]%></option>
                                <% } else { %>
                                <option value="<%=i%>"><%=typeOptions[i]%></option>
                                <% } %>
                            <% } %>
                            
                            </select>
                        </div>
                        <label for="petColor">Lemmikin väri</label>
                        <div class="text-field dropdown base">
                            <select name="petColor" value="<% if (editing) { %><%=post.color%><% } %>">
                                <option value="kaikki">Kaikki värit</option>
                                <option value="musta">Musta</option>
                                <option  value="ruskea">Ruskea</option>
                                <option  value="kultainen">Kultainen</option>
                                <option value="punainen">Punainen</option>
                                <option  value="harmaa">Harmaa</option>
                                <option  value="valkoinen">Valkoinen</option>
                                <option value="oranssi">Oranssi</option>
                                <option  value="monivarinen">Monivärinen</option>
                            </select>
                        </div>
                        <label for="gender">Lemmikin sukupuoli</label>
                        <div class="text-field dropdown base">
                            <select name="gender" value="<% if (editing) { %><%=post.gender%><% } %>"><% if (editing) { %><%=post.gender%><% } %>
                                <!-- <option value="valitse sukupuoli">Valitse sukupuoli</option> -->
                                <option value="0">Uros</option>
                                <option  value="1">Naaras</option> 
                            </select>
                        </div>
                        <label for="breed">Lemmikin rotu</label>
                        <div class="text-field dropdown base">
                            <select name="breed" value="<% if (editing) { %><%=post.breed%><% } %>">
                                <option value="valitse rotu">Valitse rotu</option>
                                <option value="exotic">Exotic</option>
                                <option  value="turkkilainen van">Turkkilainen van</option>
                                <option  value="ameriacan curl">American Curl</option>
                                <option value="laPerm">LaPerm</option>
                                <option  value="maine coon">Maine Coon</option>
                                <option  value="neva masquerade">Neva Masquerade</option>
                            </select>
                        </div>
                        <label for="title">Otsikko</label>
                        <div class="text-field base" ><input id="title" type="text" name="title" value="<% if (editing) { %><%=post.title%><% } %>"></div>
                        <label for="content">Ilmoitusteksti*</label>
                        <div class="text-field base" ><textarea id="postText" name="content" rows="5"><% if (editing) { %><%=post.postText%><% } %></textarea></div>
                        <label for="imageUrl">Kuva*</label>
                        <div class="" ><input id="kuva" type="text" name="imageUrl" value="<% if (editing) { %><%= post.imageUrl %><% } %>"></div>
                        
                        <% if (editing) { %>
                            <input type="hidden" name="postId" value="<%= post.id %>">
                        <% } %>
                        <button class="button-green button login-button" type="submit">
                            <% if (editing) { %> Päivitä ilmoitus <% } else { %>Jätä ilmoitus <% } %>
                        </button>   
                    
                        
                    </div>
                </form>     
            </div>   
        </div>
    </div>        
<%- include('../includes/end.ejs') %>